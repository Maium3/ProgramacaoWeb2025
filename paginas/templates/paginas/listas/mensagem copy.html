{% extends "paginas/index.html" %}
{% load static %}

{% block conteudo %} 
<h3>Lista de Mensagens</h3>

<!--botão para enviar uma mensagem, com a classe btn-outline-primary -->
<a class="btn btn-sm btn-outline-primary" href="{% url "enviar_mensagem" %}">Enviar Mensagem</a>

<table class="table table-striped table-hover">
    <tr>
        <th>Enviada por</th>
        <th>Enviada em</th>
        <th>Conversa</th>
        <th>Conteúdo</th>
        <th>Opções</th>
    </tr>
    
    {% for mensagem in object_list %}
    
    <tr>
        <td>{{ mensagem.enviada_por }}</td>
        <td>{{ mensagem.enviada_em }}</td>
        <td>{{ mensagem.conversa_origem }}</td>
        <td>{{ mensagem.conteudo|truncatechars:50 }}</td>
        <td>
            <a class="btn btn-sm btn-dark" href="{% url "carregar_mensagem" mensagem.pk %}">Editar</a>
            <a class="btn btn-sm btn-danger" href="{% url "excluir_mensagem" mensagem.pk %}">Excluir</a>
        </td>
    </tr>

    {% empty %}
    <tr>
        <td colspan="5">Nenhuma mensagem encontrada</td>
    </tr>
    
    {% endfor %}
</table>

{% endblock conteudo %}